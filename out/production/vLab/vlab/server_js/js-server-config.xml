<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:c="http://www.springframework.org/schema/c"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="configuration" class="vlab.server_js.LogicFactory"
            p:generateLogicFile="vlab#{systemProperties['file.separator']}server_js#{systemProperties['file.separator']}GenerateLogicImpl.js"
            p:checkLogicFile="vlab#{systemProperties['file.separator']}server_js#{systemProperties['file.separator']}CheckLogicImpl.js"
            p:calculateLogicFile="vlab#{systemProperties['file.separator']}server_js#{systemProperties['file.separator']}CalculateLogicImpl.js"/>

    <bean id="generateLogic"
          factory-bean="configuration"
          factory-method="getGenerateLogic"/>

    <bean id="checkLogic"
          factory-bean="configuration"
          factory-method="getCheckLogic"/>

    <bean id="calculateLogic"
          factory-bean="configuration"
          factory-method="getCalculateLogic"/>

    <bean id="logicContainer"
          class="rlcp.server.logic.LogicContainer"
          p:checkLogic-ref="checkLogic"
          p:generateLogic-ref="generateLogic"
          p:calculateLogic-ref="calculateLogic"/>

    <bean id="server"
          class="rlcp.server.Server"
          c:configPath="rsc/ConfigServer.xml"
          c:logicContainer-ref="logicContainer"/>
</beans>